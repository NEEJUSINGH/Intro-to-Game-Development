<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lesson 3 ‚Äì Think Like a Game Designer</title>
  <style>
    :root{ --bg1:#070b16; --bg2:#0a0f1e; --ink:#e6f0ff; --accent:#00eaff; --good:#78e08f; --bad:#ff7675 }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--ink); background:linear-gradient(to bottom,var(--bg1),var(--bg2));}
    .wrap{max-width:980px; margin:auto; padding:24px}
    h1{margin:0 0 8px; font-size:clamp(26px,3.2vw,42px); color:var(--accent); text-align:center}
    .card{background:#0b1226; border:1px solid #152042; border-radius:14px; padding:16px; margin:0 0 16px}
    .tip{background:#0e1730; border:1px solid #22356f; border-left:6px solid var(--accent); border-radius:10px; padding:12px 14px; margin:16px 0}
    ul.task{list-style:none; padding:0; margin:0}
    ul.task li{padding:12px; margin:8px 0; background:#111a38; border:1px solid #2b3d78; border-radius:8px; cursor:grab}
    .controls{display:flex; gap:10px; margin-top:12px}
    .btn{appearance:none; border:1px solid #1a2b59; background:#0b1226; color:var(--ink); padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:700}
    .btn:hover{filter:brightness(1.15)}
    textarea{width:100%; min-height:160px; border-radius:10px; border:1px solid #1a2b59; background:#0b1226; color:var(--ink); padding:10px}
    code,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
  </style>
</head>
<body>
  <main class="wrap">
    <h1>Lesson 3: Think Like a Game Designer</h1>
    <section class="card">
      <div class="tip"><strong>Goal:</strong> Break the Space Invader game into simple steps (an algorithm).</div>
      <h2>Drag & Drop: Make a PB&J Sandwich</h2>
      <ul id="pbj" class="task" aria-label="PB&J steps list"></ul>
      <div class="controls">
        <button class="btn" id="pbj-reset">üîÅ Reset</button>
        <button class="btn" id="pbj-check">‚úÖ Check Answer</button>
        <span id="pbj-feedback"></span>
      </div>
    </section>

    <section class="card">
      <h2>Drag & Drop: Turn On a Computer & Search ‚ÄúSpace Invader‚Äù</h2>
      <ul id="pc" class="task" aria-label="Turn on computer steps list"></ul>
      <div class="controls">
        <button class="btn" id="pc-reset">üîÅ Reset</button>
        <button class="btn" id="pc-check">‚úÖ Check Answer</button>
        <span id="pc-feedback"></span>
      </div>
    </section>

    <section class="card">
      <h2>Write Your Game Algorithm</h2>
      <p>What steps will our Space Invader game need?</p>
      <ul>
        <li>Show the game screen</li>
        <li>Move the spaceship with the arrow keys</li>
        <li>Fire bullets with Space</li>
        <li>Check if a bullet hits an enemy ‚Üí add score</li>
      </ul>
      <textarea id="algo" placeholder="Type your step‚Äëby‚Äëstep plan here..."></textarea>
      <div class="controls">
        <button class="btn" id="algo-save">üíæ Save as .txt</button>
        <button class="btn" id="algo-clear">üóëÔ∏è Clear</button>
      </div>
    </section>

    <section class="card" style="text-align:center">
      <a class="btn" href="lesson4.html">Go to Lesson 4 ‚Üí</a>
    </section>
  </main>

  <script>
    // --- PB&J ---
    const PBJ_CORRECT = [
      "Get two slices of bread",
      "Open the peanut butter jar",
      "Spread peanut butter on one slice",
      "Open the jelly jar",
      "Spread jelly on the other slice",
      "Put the slices together",
      "Cut sandwich in half"
    ];

    const pbjList = document.getElementById('pbj');
    const pbjFeedback = document.getElementById('pbj-feedback');
    document.getElementById('pbj-reset').addEventListener('click', () => {
      pbjFeedback.textContent = '';
      renderList(pbjList, shuffle([...PBJ_CORRECT]));
    });
    document.getElementById('pbj-check').addEventListener('click', () => {
      checkOrder(pbjList, PBJ_CORRECT, pbjFeedback);
    });
    // init
    renderList(pbjList, shuffle([...PBJ_CORRECT]));

    // --- PC --- (fixed final step wording to match prompt)
    const PC_CORRECT = [
      "Plug in the power cable (if needed)",
      "Press the power button",
      "Wait for the screen to light up",
      "Select your user account",
      "Type in your password and press Enter",
      "Wait for the desktop to fully load",
      "Double-click the browser icon",
      "Wait for the browser to open",
      "Click on the address bar or search bar",
      "Start typing 'Space Invader' and press Enter"
    ];

    const pcList = document.getElementById('pc');
    const pcFeedback = document.getElementById('pc-feedback');
    document.getElementById('pc-reset').addEventListener('click', () => {
      pcFeedback.textContent = '';
      renderList(pcList, shuffle([...PC_CORRECT]));
    });
    document.getElementById('pc-check').addEventListener('click', () => {
      checkOrder(pcList, PC_CORRECT, pcFeedback);
    });
    // init
    renderList(pcList, shuffle([...PC_CORRECT]));

    // --- helpers ---
    function renderList(ul, items){
      ul.innerHTML = '';
      items.forEach(text => {
        const li = document.createElement('li');
        li.textContent = text;
        li.draggable = true;
        li.addEventListener('dragstart', () => { li.classList.add('dragging'); });
        li.addEventListener('dragend', () => { li.classList.remove('dragging'); });
        li.addEventListener('dragover', e => e.preventDefault());
        li.addEventListener('drop', () => {
          const dragging = ul.querySelector('.dragging');
          if (dragging && dragging !== li) ul.insertBefore(dragging, li.nextSibling);
        });
        ul.appendChild(li);
      });
    }
    function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]];} return arr; }
    function checkOrder(ul, correct, out){
      const current = Array.from(ul.children).map(li => li.textContent.trim());
      const ok = current.every((t,i) => t === correct[i]);
      out.textContent = ok ? '‚úÖ Great job! That\'s the correct order!' : '‚ùå Not quite. Try again!';
      out.style.color = ok ? '#78e08f' : '#ff7675';
    }

    // --- Save/Clear ---
    document.getElementById('algo-save').addEventListener('click', () => {
      const text = document.getElementById('algo').value;
      const blob = new Blob([text], { type:'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='my_space_invader_algorithm.txt'; a.click();
      URL.revokeObjectURL(url);
    });
    document.getElementById('algo-clear').addEventListener('click', () => {
      document.getElementById('algo').value='';
    });
  </script>
</body>
</html>


